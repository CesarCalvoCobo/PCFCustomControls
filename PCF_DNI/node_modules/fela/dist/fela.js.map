{"version":3,"file":"fela.js","sources":["../../../node_modules/hyphenate-style-name/index.js","../../../modules/utils/generateCSSDeclaration.js","../../../modules/utils/warning.js","../../../modules/utils/cssifyObject.js","../../../modules/utils/cssifyFontFace.js","../../../modules/utils/cssifyKeyframe.js","../../../modules/utils/cssifyMediaQueryRules.js","../../../modules/utils/generateAnimationName.js","../../../modules/utils/generateClassName.js","../../../modules/utils/generateCombinedMediaQuery.js","../../../modules/utils/generateCSSRule.js","../../../modules/utils/generateCSSSelector.js","../../../modules/utils/minifyCSSString.js","../../../modules/utils/processStyleWithPlugins.js","../../../modules/utils/styleTypes.js","../../../modules/utils/cssifyStaticStyle.js","../../../modules/utils/generateStaticReference.js","../../../modules/utils/isMediaQuery.js","../../../modules/utils/isNestedSelector.js","../../../modules/utils/isUndefinedValue.js","../../../modules/utils/normalizeNestedProperty.js","../../../modules/utils/applyMediaRulesInOrder.js","../../../modules/utils/toCSSString.js","../../../modules/utils/checkFontFormat.js","../../../modules/createRenderer.js","../../../modules/utils/assign.js","../../../modules/combineRules.js","../../../modules/enhance.js","../../../modules/dom/DOMInterface.js","../../../modules/utils/isValidHTMLElement.js","../../../modules/dom/render.js","../../../modules/index.js"],"sourcesContent":["'use strict';\n\nvar uppercasePattern = /[A-Z]/g;\nvar msPattern = /^ms-/;\nvar cache = {};\n\nfunction hyphenateStyleName(string) {\n    return string in cache\n    ? cache[string]\n    : cache[string] = string\n      .replace(uppercasePattern, '-$&')\n      .toLowerCase()\n      .replace(msPattern, '-ms-');\n}\n\nmodule.exports = hyphenateStyleName;\n","/* @flow weak */\nimport hyphenateStyleName from 'hyphenate-style-name'\n\nexport default function generateCSSDeclaration(property, value) {\n  return `${hyphenateStyleName(property)}:${value}`\n}\n","/* @flow weak */\n/* eslint-disable import/no-mutable-exports */\nlet warning = () => true\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = (condition, message) => {\n    if (!condition) {\n      if (typeof console !== 'undefined') {\n        console.error(message); // eslint-disable-line\n      }\n    }\n  }\n}\n\nexport default warning\n","/* @flow weak */\nimport generateCSSDeclaration from './generateCSSDeclaration'\nimport warning from './warning'\n\nexport default function cssifyObject(style) {\n  let css = ''\n\n  for (const property in style) {\n    warning(\n      typeof style[property] === 'string' || typeof style[property] === 'number',\n      `The invalid value \\`${style[property]}\\` has been used as \\`${property}\\`.`\n    )\n\n    // prevents the semicolon after\n    // the last rule declaration\n    if (css) {\n      css += ';'\n    }\n\n    css += generateCSSDeclaration(property, style[property])\n  }\n\n  return css\n}\n","/* @flow weak */\nimport cssifyObject from './cssifyObject'\n\nexport default function cssifyFontFace(fontFace) {\n  return `@font-face{${cssifyObject(fontFace)}}`\n}\n","/* @flow weak */\nimport cssifyObject from './cssifyObject'\n\nexport default function cssifyKeyframe(frames, animationName, prefixes = ['']) {\n  const keyframe = Object\n    .keys(frames)\n    .reduce((css, percentage) => `${css + percentage}{${cssifyObject(frames[percentage])}}`, '')\n\n  return prefixes.reduce((css, prefix) => `${css}@${prefix}keyframes ${animationName}{${keyframe}}`, '')\n}\n","/* @flow weak */\nexport default function cssifyMediaQueryRules(mediaQuery, mediaQueryRules) {\n  if (mediaQueryRules) {\n    return `@media ${mediaQuery}{${mediaQueryRules}}`\n  }\n\n  return ''\n}\n","/* @flow weak */\nexport default function generateAnimationName(id) {\n  return `k${id}`\n}\n","/* @flow weak */\nconst chars = 'abcdefghijklmnopqrstuvwxyz'\nconst charLength = chars.length\n\nexport default function generateClassName(id, className = '') {\n  if (id <= charLength) {\n    return chars[id - 1] + className\n  }\n\n  // Bitwise floor as safari performs much faster https://jsperf.com/math-floor-vs-math-round-vs-parseint/55\n  return generateClassName(id / charLength | 0, chars[id % charLength] + className)\n}\n","/* @flow weak */\nexport default function generateCombinedMediaQuery(currentMediaQuery, nestedMediaQuery) {\n  if (currentMediaQuery.length === 0) {\n    return nestedMediaQuery\n  }\n  return `${currentMediaQuery} and ${nestedMediaQuery}`\n}\n","/* @flow weak */\nexport default function generateCSSRule(selector, cssDeclaration) {\n  return `${selector}{${cssDeclaration}}`\n}\n","/* @flow weak */\nexport default function getCSSSelector(className, pseudo = '') {\n  return `.${className}${pseudo}`\n}\n","/* @flow weak */\nexport default function minifyCSSString(style) {\n  return style.replace(/\\s{2,}/g, '')\n}\n","/* @flow */\nexport default function processStyleWithPlugins(plugins: Array<Function>, style: Object, type: number) {\n  for (let i = 0; i < plugins.length; ++i) {\n    style = plugins[i](style, type)\n  }\n\n  return style\n}\n","/* @flow weak */\nexport const RULE_TYPE = 1\nexport const KEYFRAME_TYPE = 2\nexport const FONT_TYPE = 3\nexport const STATIC_TYPE = 4\nexport const CLEAR_TYPE = 5\n","/* @flow weak */\nimport minifyCSSString from './minifyCSSString'\nimport cssifyObject from './cssifyObject'\nimport processStyleWithPlugins from './processStyleWithPlugins'\n\nimport { STATIC_TYPE } from './styleTypes'\n\nexport default function cssifyStaticStyle(staticStyle, plugins) {\n  if (typeof staticStyle === 'string') {\n    return minifyCSSString(staticStyle)\n  }\n\n  const processedStaticStyle = processStyleWithPlugins(plugins, staticStyle, STATIC_TYPE)\n  return cssifyObject(processedStaticStyle)\n}\n","/* @flow weak */\nexport default function generateStaticReference(style, selector) {\n  if (typeof style === 'string') {\n    return style\n  }\n\n  return selector + JSON.stringify(style)\n}\n","/* @flow weak */\nexport default function isMediaQuery(property) {\n  return property.substr(0, 6) === '@media'\n}\n","/* @flow weak */\nexport default function isNestedSelector(property) {\n  return property.match(/^(:|\\[|>|&)/g) !== null\n}\n","export default function isUndefinedValue(value) {\n  return value === undefined || typeof value === 'string' && value.indexOf('undefined') > -1\n}\n","/* @flow weak */\nexport default function normalizeNestedProperty(nestedProperty) {\n  if (nestedProperty.charAt(0) === '&') {\n    return nestedProperty.slice(1)\n  }\n\n  return nestedProperty\n}\n","/* @flow weak */\nexport default function applyMediaRulesInOrder(order) {\n  const mediaRules = {}\n\n  for (let i = 0, len = order.length; i < len; ++i) {\n    mediaRules[order[i]] = ''\n  }\n\n  return mediaRules\n}\n","/* @flow weak */\nexport default function toCSSString(value) {\n  if (value.charAt(0) === '\"') {\n    return value\n  }\n  return `\"${value}\"`\n}\n","/* @flow weak */\nconst formats = {\n  '.woff': 'woff',\n  '.eot': 'eot',\n  '.ttf': 'truetype',\n  '.svg': 'svg'\n}\n\nconst extensions = Object.keys(formats)\n\nexport default function checkFontFormat(src) {\n  for (let i = 0, len = extensions.length; i < len; ++i) {\n    const extension = extensions[i]\n    if (src.indexOf(extension) !== -1) {\n      return formats[extension]\n    }\n  }\n  // TODO: warning: wrong font format\n  return undefined\n}\n","/* @flow weak */\nimport cssifyFontFace from './utils/cssifyFontFace'\nimport cssifyKeyframe from './utils/cssifyKeyframe'\nimport cssifyMediaQueryRules from './utils/cssifyMediaQueryRules'\n\nimport generateAnimationName from './utils/generateAnimationName'\nimport generateClassName from './utils/generateClassName'\nimport generateCombinedMediaQuery from './utils/generateCombinedMediaQuery'\nimport generateCSSDeclaration from './utils/generateCSSDeclaration'\nimport generateCSSRule from './utils/generateCSSRule'\nimport generateCSSSelector from './utils/generateCSSSelector'\nimport cssifyStaticStyle from './utils/cssifyStaticStyle'\nimport generateStaticReference from './utils/generateStaticReference'\n\nimport isMediaQuery from './utils/isMediaQuery'\nimport isNestedSelector from './utils/isNestedSelector'\nimport isUndefinedValue from './utils/isUndefinedValue'\n\nimport normalizeNestedProperty from './utils/normalizeNestedProperty'\nimport applyMediaRulesInOrder from './utils/applyMediaRulesInOrder'\nimport processStyleWithPlugins from './utils/processStyleWithPlugins'\nimport toCSSString from './utils/toCSSString'\nimport checkFontFormat from './utils/checkFontFormat'\n\nimport { STATIC_TYPE, RULE_TYPE, KEYFRAME_TYPE, FONT_TYPE, CLEAR_TYPE } from './utils/styleTypes'\n\nexport default function createRenderer(config = {}) {\n  let renderer = {\n    listeners: [],\n    keyframePrefixes: config.keyframePrefixes || ['-webkit-', '-moz-'],\n    plugins: config.plugins || [],\n    // prettySelectors is currently useless, might reimplement better DX classNames later\n    // prettySelectors: config.prettySelectors && process.env.NODE_ENV !== 'production',\n    mediaQueryOrder: config.mediaQueryOrder || [],\n    selectorPrefix: config.selectorPrefix || '',\n    clear() {\n      renderer.fontFaces = ''\n      renderer.keyframes = ''\n      renderer.statics = ''\n      renderer.rules = ''\n      // apply media rules in an explicit order to ensure\n      // correct media query execution order\n      renderer.mediaRules = applyMediaRulesInOrder(renderer.mediaQueryOrder)\n      renderer.rendered = []\n      renderer.uniqueRuleIdentifier = 0\n      renderer.uniqueKeyframeIdentifier = 0\n      // use a flat cache object with pure string references\n      // to achieve maximal lookup performance and memoization speed\n      renderer.cache = {}\n\n      // initial change emit to enforce a clear start\n      renderer._emitChange({ type: CLEAR_TYPE })\n    },\n    renderRule(rule, props = {}) {\n      const processedStyle = processStyleWithPlugins(renderer.plugins, rule(props), RULE_TYPE)\n      return renderer._renderStyleToClassNames(processedStyle).slice(1)\n    },\n    _renderStyleToClassNames(style, pseudo = '', media = '') {\n      let classNames = ''\n\n      for (const property in style) {\n        const value = style[property]\n        if (value instanceof Object) {\n          if (isNestedSelector(property)) {\n            classNames += renderer._renderStyleToClassNames(\n              value,\n              pseudo + normalizeNestedProperty(property),\n              media\n            )\n          } else if (isMediaQuery(property)) {\n            const combinedMediaQuery = generateCombinedMediaQuery(media, property.slice(6).trim())\n            classNames += renderer._renderStyleToClassNames(value, pseudo, combinedMediaQuery)\n          } else {\n            // TODO: warning\n          }\n        } else {\n          const declarationReference = media + pseudo + property + value\n          if (!renderer.cache[declarationReference]) {\n            // we remove undefined values to enable\n            // usage of optional props without side-effects\n            if (isUndefinedValue(value)) {\n              renderer.cache[declarationReference] = ''\n              continue\n            }\n\n            const className = renderer.selectorPrefix +\n              generateClassName(++renderer.uniqueRuleIdentifier)\n\n            renderer.cache[declarationReference] = className\n\n            const cssDeclaration = generateCSSDeclaration(property, value)\n            const selector = generateCSSSelector(className, pseudo)\n            const cssRule = generateCSSRule(selector, cssDeclaration)\n\n            if (media) {\n              if (!renderer.mediaRules.hasOwnProperty(media)) {\n                renderer.mediaRules[media] = ''\n              }\n              renderer.mediaRules[media] += cssRule\n            } else {\n              renderer.rules += cssRule\n            }\n\n            renderer._emitChange({\n              selector,\n              declaration: cssDeclaration,\n              media,\n              type: RULE_TYPE\n            })\n          }\n\n          classNames += ` ${renderer.cache[declarationReference]}`\n        }\n      }\n\n      return classNames\n    },\n    renderKeyframe(keyframe, props = {}) {\n      const resolvedKeyframe = keyframe(props)\n      const keyframeReference = JSON.stringify(resolvedKeyframe)\n\n      if (!renderer.cache[keyframeReference]) {\n        // use another unique identifier to ensure minimal css markup\n        const animationName = generateAnimationName(++renderer.uniqueKeyframeIdentifier)\n\n        const processedKeyframe = processStyleWithPlugins(\n          renderer.plugins,\n          resolvedKeyframe,\n          KEYFRAME_TYPE\n        )\n        const cssKeyframe = cssifyKeyframe(\n          processedKeyframe,\n          animationName,\n          renderer.keyframePrefixes\n        )\n        renderer.cache[keyframeReference] = animationName\n        renderer.keyframes += cssKeyframe\n\n        renderer._emitChange({\n          name: animationName,\n          keyframe: cssKeyframe,\n          type: KEYFRAME_TYPE\n        })\n      }\n\n      return renderer.cache[keyframeReference]\n    },\n    renderFont(family, files, properties = {}) {\n      const fontReference = family + JSON.stringify(properties)\n\n      if (!renderer.cache[fontReference]) {\n        const fontFamily = toCSSString(family)\n\n        // TODO: proper font family generation with error proofing\n        const fontFace = {\n          ...properties,\n          src: files.map(src => `url('${src}') format('${checkFontFormat(src)}')`).join(','),\n          fontFamily\n        }\n\n        const cssFontFace = cssifyFontFace(fontFace)\n        renderer.cache[fontReference] = fontFamily\n        renderer.fontFaces += cssFontFace\n\n        renderer._emitChange({\n          fontFamily,\n          fontFace: cssFontFace,\n          type: FONT_TYPE\n        })\n      }\n\n      return renderer.cache[fontReference]\n    },\n    renderStatic(staticStyle, selector) {\n      const staticReference = generateStaticReference(staticStyle, selector)\n\n      if (!renderer.cache[staticReference]) {\n        const cssDeclarations = cssifyStaticStyle(staticStyle, renderer.plugins)\n        renderer.cache[staticReference] = true\n\n        if (typeof staticStyle === 'string') {\n          renderer.statics += cssDeclarations\n          renderer._emitChange({\n            type: STATIC_TYPE,\n            css: cssDeclarations\n          })\n        } else {\n          renderer.statics += generateCSSRule(selector, cssDeclarations)\n          renderer._emitChange({\n            selector,\n            declaration: cssDeclarations,\n            type: RULE_TYPE,\n            media: ''\n          })\n        }\n      }\n    },\n    renderToString() {\n      let css = renderer.fontFaces + renderer.statics + renderer.keyframes + renderer.rules\n\n      for (const media in renderer.mediaRules) {\n        css += cssifyMediaQueryRules(media, renderer.mediaRules[media])\n      }\n\n      return css\n    },\n    subscribe(callback) {\n      renderer.listeners.push(callback)\n      return { unsubscribe: () => renderer.listeners.splice(renderer.listeners.indexOf(callback), 1) }\n    },\n    _emitChange(change) {\n      for (let i = 0, len = renderer.listeners.length; i < len; ++i) {\n        renderer.listeners[i](change)\n      }\n    }\n  }\n\n  // initial setup\n  renderer.keyframePrefixes.push('')\n  renderer.clear()\n\n  if (config.enhancers) {\n    for (let i = 0, len = config.enhancers.length; i < len; ++i) {\n      renderer = config.enhancers[i](renderer)\n    }\n  }\n\n  return renderer\n}\n","/* @flow weak */\nexport default function assign(base, ...extendingStyles) {\n  for (let i = 0, len = extendingStyles.length; i < len; ++i) {\n    const style = extendingStyles[i]\n\n    for (const property in style) {\n      const value = style[property]\n\n      if (base[property] instanceof Object && value instanceof Object) {\n        base[property] = assign({}, base[property], value)\n      } else {\n        base[property] = value\n      }\n    }\n  }\n\n  return base\n}\n","/* @flow weak */\nimport assign from './utils/assign'\n\nexport default function combineRules(...rules) {\n  return (props) => {\n    const style = {}\n\n    for (let i = 0, len = rules.length; i < len; ++i) {\n      assign(style, rules[i](props))\n    }\n\n    return style\n  }\n}\n","/* @flow weak */\nexport default function enhance(...enhancers) {\n  return createRenderer => (config) => {\n    let renderer = createRenderer(config)\n\n    for (let i = 0, len = enhancers.length; i < len; ++i) {\n      renderer = enhancers[i](renderer)\n    }\n\n    return renderer\n  }\n}\n","/* @flow weak */\nimport { RULE_TYPE } from '../utils/styleTypes'\n\nexport default function createDOMInterface(renderer, node) {\n  return (change) => {\n    // only use insertRule in production as browser devtools might have\n    // weird behavior if used together with insertRule at runtime\n    if (process.env.NODE_ENV === 'production' && change.type === RULE_TYPE && !change.media) {\n      node.sheet.insertRule(\n        `${change.selector}{${change.declaration}}`,\n        node.sheet.cssRules.length\n      )\n    } else {\n      node.textContent = renderer.renderToString()\n    }\n  }\n}\n","export default function isValidHTMLElement(mountNode) {\n  return mountNode && mountNode.nodeType === 1\n}\n","/* @flow weak */\nimport createDOMInterface from './DOMInterface'\nimport warning from '../utils/warning'\nimport isValidHTMLElement from '../utils/isValidHTMLElement'\n\nexport default function render(renderer, mountNode) {\n  // mountNode must be a valid HTML element to be able\n  // to set mountNode.textContent later on\n  if (!isValidHTMLElement(mountNode)) {\n    throw new Error('You need to specify a valid element node (nodeType = 1) to render into.')\n  }\n\n  // warns if the DOM node either is not a valid <style> element\n  // thus the styles do not get applied as Expected\n  // or if the node already got the data-fela-stylesheet attribute applied\n  // suggesting it is already used by another Renderer\n  warning(\n    mountNode.nodeName === 'STYLE',\n    'You are using a node other than `<style>`. Your styles might not get applied correctly.'\n  )\n\n  // mark and clean the DOM node to prevent side-effects\n  mountNode.setAttribute('data-fela-stylesheet', '')\n\n  const updateNode = createDOMInterface(renderer, mountNode)\n  renderer.subscribe(updateNode)\n\n  const css = renderer.renderToString()\n\n  if (mountNode.textContent !== css) {\n    // render currently rendered styles to the DOM once\n    mountNode.textContent = css\n  }\n}\n","/* @flow weak */\nimport createRenderer from './createRenderer'\nimport combineRules from './combineRules'\nimport enhance from './enhance'\nimport render from './dom/render'\n\nfunction deprecatedRender(renderer, mountNode) {\n  console.warn(\n    'Importing `render` from `fela` is deprecated. Use `fela-dom` to import `render` instead.'\n  )\n  // eslint-disable-line\n  return render(renderer, mountNode)\n}\n\nexport default {\n  createRenderer,\n  combineRules,\n  enhance,\n  render: deprecatedRender\n}\n"],"names":["uppercasePattern","msPattern","cache","hyphenateStyleName","string","replace","toLowerCase","module","exports","generateCSSDeclaration","property","value","warning","condition","message","console","error","cssifyObject","style","css","cssifyFontFace","fontFace","cssifyKeyframe","frames","animationName","prefixes","keyframe","Object","keys","reduce","percentage","prefix","cssifyMediaQueryRules","mediaQuery","mediaQueryRules","generateAnimationName","id","chars","charLength","length","generateClassName","className","generateCombinedMediaQuery","currentMediaQuery","nestedMediaQuery","generateCSSRule","selector","cssDeclaration","getCSSSelector","pseudo","minifyCSSString","processStyleWithPlugins","plugins","type","i","RULE_TYPE","KEYFRAME_TYPE","FONT_TYPE","STATIC_TYPE","CLEAR_TYPE","cssifyStaticStyle","staticStyle","processedStaticStyle","generateStaticReference","JSON","stringify","isMediaQuery","substr","isNestedSelector","match","isUndefinedValue","undefined","indexOf","normalizeNestedProperty","nestedProperty","charAt","slice","applyMediaRulesInOrder","order","mediaRules","len","toCSSString","formats","extensions","checkFontFormat","src","extension","createRenderer","config","renderer","listeners","keyframePrefixes","mediaQueryOrder","selectorPrefix","clear","fontFaces","keyframes","statics","rules","rendered","uniqueRuleIdentifier","uniqueKeyframeIdentifier","_emitChange","renderRule","rule","props","processedStyle","_renderStyleToClassNames","media","classNames","combinedMediaQuery","trim","declarationReference","generateCSSSelector","cssRule","hasOwnProperty","declaration","renderKeyframe","resolvedKeyframe","keyframeReference","processedKeyframe","cssKeyframe","name","renderFont","family","files","properties","fontReference","fontFamily","map","join","cssFontFace","renderStatic","staticReference","cssDeclarations","renderToString","subscribe","callback","push","unsubscribe","splice","change","enhancers","assign","base","extendingStyles","combineRules","enhance","createDOMInterface","node","textContent","isValidHTMLElement","mountNode","nodeType","render","Error","nodeName","setAttribute","updateNode","deprecatedRender","warn"],"mappings":"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"}